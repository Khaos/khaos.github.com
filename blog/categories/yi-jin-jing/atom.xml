<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 易筋经 | Khaos]]></title>
  <link href="http://Khaos.github.com/blog/categories/yi-jin-jing/atom.xml" rel="self"/>
  <link href="http://Khaos.github.com/"/>
  <updated>2012-12-06T22:18:04+08:00</updated>
  <id>http://Khaos.github.com/</id>
  <author>
    <name><![CDATA[Dazhi Jiang]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Octopress易筋经，中文分类标签]]></title>
    <link href="http://Khaos.github.com/blog/2012/12/06/using-chinese-category-tags-in-octopress/"/>
    <updated>2012-12-06T01:54:00+08:00</updated>
    <id>http://Khaos.github.com/blog/2012/12/06/using-chinese-category-tags-in-octopress</id>
    <content type="html"><![CDATA[<p class="info"><strong>卷二</strong>，讨论如何在Octopress中使用中文分类标签。</p>

<!-- more -->

<p>基于Octopress的博客系统自带了一个很好用分类标签插件。但遗憾的是它不支持中文，如果你在文章中定义了中文分类，那么点击的时候会链接到404页面。事实上，这个分类功能是通过<code>plugins/category_generator.rb</code>来实现，所以有好事者对其进行了hack，以提供中文分类的支持。例如，</p>

<ol>
  <li>在<a href="http://geron.heroku.com/blog/2012/03/octo-cate-cn-spo/">这篇文章</a>中，作者修改了<code>category_generator.rb</code>文件中<code>write_category_indexes</code>函数，原理就是将<code>category_dir</code>下的目录名做成汉字在 url 中的编码 (RFC1738)，然后和中文分类标签链接起来。测试了一下，这种方式在本地预览的时候没有问题，但是push到GitHub上就无法解析中文地址。</li>
  <li>另外一种方法（参见<a href="http://blog.sprabbit.com/blog/2012/03/23/octopress/">这里</a>），也是修改了<code>category_generator.rb</code>。与上面不同的是，它重新定义了分类标签在文章中的定义格式。例如，用<code>中文分类标签名{英文别名}</code>这样的格式来定义标签。于是在文章显示是中文分类，但实际链接到英文别名上。这种方法虽然定义标签麻烦些，但可定制性强。实际应用中却有问题，修改后的系统可以正常generate&amp;deploy，但是preview那里有问题，无法自动跟踪文章的改变。这实际上很让人抓狂，因为不能实时的预览文档。也许以后的文章里会进行详细的研究。</li>
</ol>

<p>我的解决方案当然也逃脱不了hack <code>category_generator.rb</code>的套路，但是思路上简单多了，就是利用<a href="https://github.com/rsl/stringex">stringex</a>包的<code>to_url</code>函数将中文分类标签的链接名和<code>category_dir</code>下的目录名都转换成相应的拼音。这样无论在本地还是GitHub上都没有问题。事实上，Octopress系统在利用<code>rake new_[post|page]</code>命令创建含有中文名的文章时也采用了这样的技巧，你可以查看Rakefile中相关的部分。</p>

<p>下面是实现步骤，在<code>category_generator.rb</code>文件头处添加</p>

<pre><code>require "stringex"
</code></pre>

<p>然后找到其中定义category目录的部分</p>

<pre><code>self.write_category_index(File.join(dir, category.gsub(/_|\P{Word}/, '-').gsub(/-{2,}/, '-').downcase), category)
</code></pre>

<p>将其修改为</p>

<pre><code>self.write_category_index(File.join(dir, category.gsub(/_|\P{Word}/, '-').gsub(/-{2,}/, '-').to_url.downcase), category)
</code></pre>

<p>再找到定义中文分类网页标签的部分</p>

<pre><code>"&lt;a class='category' href='http://Khaos.github.com/#{dir}/#{item.gsub(/_|\P{Word}/, '-').gsub(/-{2,}/, '-').downcase}/'&gt;#{item}&lt;/a&gt;"
</code></pre>

<p>改为</p>

<pre><code>"&lt;a class='category' href='http://Khaos.github.com/#{dir}/#{item.gsub(/_|\P{Word}/, '-').gsub(/-{2,}/, '-').to_url.downcase}/'&gt;#{item}&lt;/a&gt;"
</code></pre>

<p>注意上面两处修改就是再相应的地方加上<code>to_url</code>函数进行地址的转换。</p>

<p>修改后重新generate和deploy/preview，就可以看到中文分类了，而实际的链接就是对应的拼音。你可以用这个blog来测试中文分类功能。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress易筋经，目录表ToC]]></title>
    <link href="http://Khaos.github.com/blog/2012/12/05/generating-toc-in-octopress/"/>
    <updated>2012-12-05T07:49:00+08:00</updated>
    <id>http://Khaos.github.com/blog/2012/12/05/generating-toc-in-octopress</id>
    <content type="html"><![CDATA[<p class="info" style="max-width: 378px"><strong>卷一</strong>，介绍在Octopress中添加 Table of Contents (ToC) 的方法。</p>

<p>维护长博客的时候，如果加上一个目录表 (Table of Contents)，会令读者对文章结构有一个清晰的把握。基于Octopress的博客系统，有两种常见的创建目录表的方式：基于 kramdown<sup id="fnref:kramdown"><a href="#fn:kramdown" rel="footnote">1</a></sup> 的实现，以及基于 jQuery 插件的实现。前者基本上不需要配置，仅要求把默认的 Markdown parser 改为 kramdown 即可。后者则需要对系统进行相对较多的修改。</p>

<!-- more -->

<h2 id="kramdowntoc">方式一：利用kramdown内嵌的ToC功能</h2>

<ul id="markdown-toc">
  <li><a href="#kramdowntoc">方式一：利用kramdown内嵌的ToC功能</a>    <ul>
      <li><a href="#section">实现</a></li>
      <li><a href="#demo">Demo</a></li>
    </ul>
  </li>
  <li><a href="#jquerytoc">方式二：利用jQuery的ToC插件</a>    <ul>
      <li><a href="#section-1">实现</a></li>
      <li><a href="#demo-1">Demo</a></li>
    </ul>
  </li>
  <li><a href="#section-2">测试部分</a>    <ul>
      <li><a href="#h3">H3</a></li>
    </ul>
  </li>
</ul>

<p>kramdown 是一款由Ruby实现的Markdown解析器。它扩展的标准Markdown语言，添加了很多语法，其中一个就是内置了ToC的实现。这让在基于Jekyll/Octopress的博客系统中插入ToC变得简单而灵活，但是不幸的是，它的目录结构和层次需要在<code>_config.yml</code>中指定，也就是说，这些设定是全站的，你无法在某一篇Blog中使用不同于全站的ToC结构。</p>

<h3 id="section">实现</h3>

<p>这种方式的配置很简单，仅需要在你的<code>_config.yml</code>文件中，将默认的 Markdown parser 改为 kramdown，也即，</p>

<pre><code>markdown: kramdown
</code></pre>

<p>在kramdown中，默认的目录树层次是从<code>h1</code>到<code>h6</code>，你可以用下的设定将这个层次改为从<code>h1</code>到<code>h3</code>，</p>

<pre><code>kramdown:
    toc_levels: 1..3
</code></pre>

<p>插入ToC也很简单，几乎在你的文章任何地方，加入下面的代码，在相应的部分kramdown就会帮你生成并插入一个ToC，</p>

<pre><code>* Put anything here
{:toc}
</code></pre>

<p>余下的事情就是给你的ToC润色，需要修改的样式是<code>ul#markdown-toc</code>。</p>

<h3 id="demo">Demo</h3>

<p>右侧透明背景的ToC即是利用kramdown实现的。由于我定义了<code>toc_levels: 1..3</code>，所以低于<code>h3</code>的标题并未出现在表中。</p>

<h2 id="jquerytoc">方式二：利用jQuery的ToC插件</h2>

<p>这种方式实现起来稍微复杂一些，好处是可以根据需要调整ToC的层次结构。当然，它也有局限性，例如，就我的实现而言，ToC的位置是固定浮动与整篇正文之上的，也就是说它会出现在文章的最开头处。</p>

<h3 id="section-1">实现</h3>

<p>闲话少叙，下面介绍实现过程。（这里应用的方法主要参照的是Brian Clapper的博客 <sup id="fnref:BrianClapper"><a href="#fn:BrianClapper" rel="footnote">2</a></sup> ）。</p>

<!-- <iframe style="width: 100%; height: 300px" src="http://jsfiddle.net/m6Z3C/embedded/js,resources,html,css,result/light/"></iframe> -->
<p><!--  --></p>

<ul>
  <li>
    <p>jQuery插件支持</p>

    <p>按照<a href="http://jquery.com/">jQuery</a>网站的提示配置你的系统，并且下载<a href="http://fuelyourcoding.com/scripts/toc/">Table of Contents jQuery Plugin</a>，将相应的JS文件放到<code>source/javascripts</code>目录。</p>

    <p>在<code>source/_includes/custom/after_footer.html</code>中添加
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>// !!! Load jQuery before this
</span><span class='line'><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nx">jQuery</span><span class="p">.</span><span class="nx">noConflict</span><span class="p">();</span>
</span><span class='line'><span class="nt">&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/jquery.scrollTo.min.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/jquery.tableofcontents.min.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
  </li>
  <li>
    <p>创建JavaScript文件，例如，<code>tocgenerator.js</code>，使其包含下面的代码，
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">generateTOC</span><span class="p">(</span><span class="nx">insertBefore</span><span class="p">,</span> <span class="nx">heading</span><span class="p">,</span> <span class="nx">startLv</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="err">“</span><span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s1">&#39;tocBlock&#39;</span><span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="err">/div&amp;gt;”);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="err">“</span><span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="nx">ul</span> <span class="nx">id</span><span class="o">=</span><span class="s1">&#39;toc&#39;</span><span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="err">/ul&amp;gt;”);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">content</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">insertBefore</span><span class="p">).</span><span class="nx">first</span><span class="p">();</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="k">if</span> <span class="p">(</span><span class="nx">heading</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">heading</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="err">‘</span><span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;tocHeading&quot;</span><span class="o">&gt;</span><span class="err">’</span> <span class="o">+</span> <span class="nx">heading</span> <span class="o">+</span> <span class="err">‘</span><span class="o">&lt;</span><span class="err">/span&gt;’);</span>
</span><span class='line'>  <span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="k">if</span> <span class="p">(</span><span class="nx">startLv</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span> <span class="nx">startLv</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">div</span><span class="p">.</span><span class="nx">tableOfContents</span><span class="p">(</span><span class="nx">content</span><span class="p">,</span> <span class="p">{</span> <span class="nx">startLevel</span><span class="o">:</span> <span class="nx">startLv</span> <span class="p">});</span>
</span><span class='line'>  <span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">div</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">container</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">insertBefore</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
  </li>
  <li>
    <p>载入创建的JS文件（<code>source/_includes/custom/after_footer.html</code>）
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/tocgenerator.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
  </li>
  <li>
    <p>创建ToC模块，依然在<code>source/_includes/custom/after_footer.html</code>中，添加，
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>{% if page.toc == true %}
</span><span class='line'>{% if page.tocstartlv %}
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// Put a TOC right before the entry content.</span>
</span><span class='line'>    <span class="nx">generateTOC</span><span class="p">(</span><span class="s1">&#39;.entry-content&#39;</span><span class="p">,</span> <span class="s1">&#39;Contents&#39;</span><span class="p">,</span> <span class="p">{{</span> <span class="nx">page</span><span class="p">.</span><span class="nx">tocstartlv</span> <span class="p">}});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>  <span class="nt">&lt;/script&gt;</span>
</span><span class='line'>{% else %}
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// Put a TOC right before the entry content.</span>
</span><span class='line'>    <span class="nx">generateTOC</span><span class="p">(</span><span class="s1">&#39;.entry-content&#39;</span><span class="p">,</span> <span class="s1">&#39;Contents&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>  <span class="nt">&lt;/script&gt;</span>
</span><span class='line'>{% endif %}
</span><span class='line'>{% endif %}
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
  </li>
  <li>
    <p>插入ToC</p>

    <p>与<a href="#kramdowntoc">方式一</a>不同，第二种方法插入ToC需要在文章的开始的Liquid标签出用两个新标签<code>toc</code>和<code>tocstartlv</code>来控制是否显示ToC以及ToC starting level。例如，本文采用了如下设定，</p>

    <pre><code>  toc: true
  tocstartlv: 2
</code></pre>
  </li>
</ul>

<h3 id="demo-1">Demo</h3>

<p>生成的ToC出现在文章开始处，为区别于方式一，它采用了浅蓝色的背景。可以看到，由于起始的ToC level是2，它给出从<code>h2</code>到<code>h4</code>的所有目录项。另一方面，由kramdown产生的ToC由于设置的原因，仅能显示<code>h2</code>和<code>h3</code>这两层的目录项。</p>

<h2 id="section-2">测试部分</h2>

<h3 id="h3">H3</h3>

<h4 id="h4">H4</h4>

<h5 id="h5">H5</h5>
<div class="footnotes">
  <ol>
    <li id="fn:kramdown">
      <p><a href="http://kramdown.rubyforge.org/">kramdown主页</a><a href="#fnref:kramdown" rel="reference">&#8617;</a></p>
    </li>
    <li id="fn:BrianClapper">
      <p><a href="http://brizzled.clapper.org/blog/2012/02/04/generating-a-table-of-contents-in-octopress/">Brian Clapper, Generating a Table of Contents in Octopress</a><a href="#fnref:BrianClapper" rel="reference">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Create a Bode plot using PGF/TikZ, TikZ Tao]]></title>
    <link href="http://Khaos.github.com/blog/2010/03/24/create-a-bode-plot-using-pgftikz/"/>
    <updated>2010-03-24T00:00:00+08:00</updated>
    <id>http://Khaos.github.com/blog/2010/03/24/create-a-bode-plot-using-pgftikz</id>
    <content type="html"><![CDATA[<p>How to draw a Bode plot? Well, the answer seams easy. If you have a  MATLAB distribution with Control System Toolbox, you can do this using just a single command, for example, </p>

<p><code>matlab
	bode(tf(4, [2, 1, 0]));
</code></p>

<p>Indeed, MATLAB integrates so many powerful tools that make scientists and engineers’ lives easier. However, this is not the end of our story. Yes, the figure created in MATLAB looks really, really ugly. If you want a publishable quality figure, which includes more colors, more line styles, more elegant annotations and even more, the mathematical equations, you will feel utterly disappointed in the MATLAB’s plotting ability.</p>

<p>So what is the solution?</p>

<!-- more -->

<ul>
  <li>R + Sweave/pgfSweave? Unfortunately, as far as I know, R (and its official package repository) does not provide a bode-plot relevant function. (If anyone knows such a function (or better, a control system package), please leave your comment here. Thanks.)</li>
  <li>Python + Numpy/Scipy + matplotlib? Yer, this looks like a happy combination. However, you have to learn Python, and, of course, Numpy/Scipy/matplotlib.</li>
  <li>MATLAB + matlab2pgfplots/matlab2tikz? A clumsy method, and even worse, it does now work for the figure create by <code>bode()</code> function. (In MATLAB 2009b or earlier, the objects generated by the function <code>bode()</code> is quite different from ones generated by the standard plotting command <code>plot()</code>. So you won’t get what you want, if you simply use matlab2pgfplots/matlab2tikz to convert MATLAB figure to PGF/TikZ file. Of course, there are some tricks to do it.)</li>
  <li>Octave + gnuplot + epslatex/pslatex? OK, it could do the job. But how to put an equation in the upper subfigure (magnitude)? Again need some tricks and more complicate.</li>
  <li>gnuplot + tikz terminal? This is a solution that satisfies everything. But do you really want to switch between gnuplot and tex all the time when you revise your work? Unless you are an emacs/Vim user, you will find this process is pretty annoying.</li>
  <li>Can we do everything in TeX?</li>
</ul>

<p>The answer is yes. Thank Papanicola Robert for his excellent work, the LaTeX package, <a href="http://www.sciences-indus-cpge.apinc.org/Bode-Black-et-Nyquist-avec-Tikz">bodegraph</a> (PGF/TikZ based). Now using a single toolset, in a single editing environment, do a beautiful job. The below is the tex file which draws the bode plots for two control systems.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>bodeplot (bodeplot.tex)</span> <a href='/downloads/code/2010/bodeplot.tex'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
</pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="c">% Create a Bode plot using Papanicola Robert&#39;s package &lt;bodegraph&gt;</span>
</span><span class='line'><span class="c">% Author: Dazhi Jiang</span>
</span><span class='line'><span class="k">\documentclass</span><span class="na">[10pt]</span><span class="nb">{</span>article<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\usepackage</span><span class="nb">{</span>amsmath,amssymb<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\usepackage</span><span class="nb">{</span>tikz<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="nb">{</span>bodegraph<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\usetikzlibrary</span><span class="nb">{</span>intersections<span class="nb">}</span>
</span><span class='line'><span class="k">\usetikzlibrary</span><span class="nb">{</span>calc<span class="nb">}</span>
</span><span class='line'><span class="k">\usetikzlibrary</span><span class="nb">{</span>positioning<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\usepackage</span><span class="na">[active,tightpage]</span><span class="nb">{</span>preview<span class="nb">}</span>
</span><span class='line'><span class="k">\PreviewEnvironment</span><span class="nb">{</span>tikzpicture<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">% Define the layers to draw the diagram</span>
</span><span class='line'><span class="k">\pgfdeclarelayer</span><span class="nb">{</span>background<span class="nb">}</span>
</span><span class='line'><span class="k">\pgfdeclarelayer</span><span class="nb">{</span>foreground<span class="nb">}</span>
</span><span class='line'><span class="k">\pgfsetlayers</span><span class="nb">{</span>background,main,foreground<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>tikzpicture<span class="nb">}</span>[&gt;=latex&#39;,
</span><span class='line'>    ref lines/.style=<span class="nb">{</span>thin, blue!60<span class="nb">}</span>,
</span><span class='line'>    ref points/.style=<span class="nb">{</span>circle, black, opacity=0.7, fill, minimum size= 3pt, inner sep=0<span class="nb">}</span>,
</span><span class='line'>    every node/.style=<span class="nb">{</span>font=<span class="k">\small</span><span class="nb">}</span>,
</span><span class='line'>    bode lines/.style=<span class="nb">{</span>very thick, blue<span class="nb">}</span>,
</span><span class='line'>    Gclabel/.style=<span class="nb">{</span>text=blue<span class="nb">}</span>,
</span><span class='line'>    xscale=12/3]
</span><span class='line'>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>scope<span class="nb">}</span>[yscale=4/110]
</span><span class='line'><span class="k">\UnitedB</span>
</span><span class='line'><span class="k">\semilog</span><span class="nb">{</span>-1<span class="nb">}{</span>2<span class="nb">}{</span>-50<span class="nb">}{</span>60<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">% Bode plot (magnitude) for the original system, 4/(s/(1+2s)).</span>
</span><span class='line'><span class="c">% Asymptotic line</span>
</span><span class='line'><span class="k">\BodeAmp</span><span class="na">[ref lines, red!60]</span><span class="nb">{</span>-1:1.35<span class="nb">}{</span><span class="k">\POAmpAsymp</span><span class="nb">{</span>4<span class="nb">}{</span>2.0<span class="nb">}</span>+<span class="k">\IntAmp</span><span class="nb">{</span>1<span class="nb">}}</span>
</span><span class='line'><span class="c">% Bode plot</span>
</span><span class='line'><span class="k">\BodeAmp</span><span class="na">[bode lines, red, name path=Gomagnitude]</span><span class="nb">{</span>-1:1.35<span class="nb">}{</span><span class="k">\POAmp</span><span class="nb">{</span>4<span class="nb">}{</span>2.0<span class="nb">}</span>+<span class="k">\IntAmp</span><span class="nb">{</span>1<span class="nb">}}</span>
</span><span class='line'>
</span><span class='line'><span class="c">% Bode plot (magnitude) for the compensated system, 4(1+s)/(s^2/(1+0.1s)).</span>
</span><span class='line'><span class="c">% Asymptotic line</span>
</span><span class='line'><span class="k">\BodeAmp</span><span class="na">[ref lines]</span><span class="nb">{</span>-1:2<span class="nb">}{</span><span class="k">\APAmpAsymp</span><span class="nb">{</span>4<span class="nb">}{</span>0.1<span class="nb">}{</span>10<span class="nb">}</span>+2*<span class="k">\IntAmp</span><span class="nb">{</span>1<span class="nb">}}</span>
</span><span class='line'><span class="c">% Bode plot</span>
</span><span class='line'><span class="k">\BodeAmp</span><span class="na">[bode lines, name path=magnitude]</span>
</span><span class='line'>    <span class="nb">{</span>-1:2<span class="nb">}{</span><span class="k">\APAmp</span><span class="nb">{</span>4<span class="nb">}{</span>0.1<span class="nb">}{</span>10<span class="nb">}</span>+2*<span class="k">\IntAmp</span><span class="nb">{</span>1<span class="nb">}}</span>
</span><span class='line'>
</span><span class='line'><span class="c">% Reference line, (0dB)</span>
</span><span class='line'><span class="k">\draw</span> [name path=unitygain, ref lines] (-1,0) -- (2,0);
</span><span class='line'>
</span><span class='line'><span class="c">% Crossover frequency of the original system</span>
</span><span class='line'><span class="k">\path</span> [name intersections=<span class="nb">{</span>of=magnitude and unitygain, by=crossover<span class="nb">}</span>];
</span><span class='line'><span class="k">\node</span> (coref) [ref points, label=<span class="nb">{</span>[blue]below left:<span class="s">$</span><span class="nv">\omega</span><span class="nb">_c</span><span class="s">$</span><span class="nb">}</span>]
</span><span class='line'>    at (crossover) <span class="nb">{}</span>;
</span><span class='line'>
</span><span class='line'><span class="c">% Crossover frequency of the compensated system</span>
</span><span class='line'><span class="k">\path</span> [name intersections=<span class="nb">{</span>of=Gomagnitude and unitygain, by=Gocrossover<span class="nb">}</span>];
</span><span class='line'><span class="k">\node</span> (Gocoref) [ref points, label=<span class="nb">{</span>[red]below:<span class="s">$</span><span class="nv">\omega</span><span class="nb">_{co}</span><span class="s">$</span><span class="nb">}</span>]
</span><span class='line'>    at (Gocrossover) <span class="nb">{}</span>;
</span><span class='line'>
</span><span class='line'><span class="c">% Labels for the original system (open-loop)</span>
</span><span class='line'><span class="k">\node</span> [Gclabel, text=red] at (-0.7, 15) <span class="nb">{</span><span class="s">$</span><span class="o">-</span><span class="m">20</span><span class="s">$</span>dB/dec<span class="nb">}</span>;
</span><span class='line'><span class="k">\node</span> [Gclabel, text=red] at (0.5, -30) <span class="nb">{</span><span class="s">$</span><span class="o">-</span><span class="m">40</span><span class="s">$</span>dB/dec<span class="nb">}</span>;
</span><span class='line'><span class="k">\node</span> (KG) [Gclabel, red!60, text=red, draw]
</span><span class='line'>    at (-0.5, -30) <span class="nb">{</span><span class="s">$</span><span class="nb">KG</span><span class="o">(</span><span class="nb">s</span><span class="o">)=</span><span class="nv">\dfrac</span><span class="nb">{</span><span class="m">4</span><span class="nb">}{s</span><span class="o">(</span><span class="m">1</span><span class="o">+</span><span class="m">2</span><span class="nb">s</span><span class="o">)</span><span class="nb">}</span><span class="s">$</span><span class="nb">}</span>;
</span><span class='line'><span class="k">\draw</span> (KG.east) edge [-&gt;, shorten &gt;=1pt, thick, red, bend right=1.5]
</span><span class='line'>    (0.4, -10);
</span><span class='line'>
</span><span class='line'><span class="c">% Labels for the compensated system (open-loop)</span>
</span><span class='line'><span class="k">\node</span> [ref points, label=<span class="nb">{</span>[blue]below left:<span class="s">$</span><span class="nv">\omega</span><span class="nb">_</span><span class="m">2</span><span class="s">$</span><span class="nb">}</span>] at (0, 0) <span class="nb">{}</span>;
</span><span class='line'><span class="k">\node</span> [ref points, label=<span class="nb">{</span>[blue]below right:<span class="s">$</span><span class="nv">\omega</span><span class="nb">_</span><span class="m">3</span><span class="s">$</span><span class="nb">}</span>] at (1, 0) <span class="nb">{}</span>;
</span><span class='line'><span class="k">\node</span> [Gclabel] at (-0.4, 40) <span class="nb">{</span><span class="s">$</span><span class="o">-</span><span class="m">40</span><span class="s">$</span>dB/dec<span class="nb">}</span>;
</span><span class='line'><span class="k">\node</span> [Gclabel] at (0.5, 10) <span class="nb">{</span><span class="s">$</span><span class="o">-</span><span class="m">20</span><span class="s">$</span>dB/dec<span class="nb">}</span>;
</span><span class='line'><span class="k">\node</span> [Gclabel] at (1.6, -20) <span class="nb">{</span><span class="s">$</span><span class="o">-</span><span class="m">40</span><span class="s">$</span>dB/dec<span class="nb">}</span>;
</span><span class='line'><span class="k">\node</span> (KDG) [Gclabel, blue!60, text=blue, draw]
</span><span class='line'>    at (1.4, 40) <span class="nb">{</span><span class="s">$</span><span class="nb">KD</span><span class="o">(</span><span class="nb">s</span><span class="o">)</span><span class="nb">G</span><span class="o">(</span><span class="nb">s</span><span class="o">)=</span><span class="nv">\dfrac</span><span class="nb">{</span><span class="m">4</span><span class="o">(</span><span class="m">1</span><span class="o">+</span><span class="nb">s</span><span class="o">)</span><span class="nb">}{s^</span><span class="m">2</span><span class="o">(</span><span class="m">1</span><span class="o">+</span><span class="m">0</span><span class="nb">.</span><span class="m">1</span><span class="nb">s</span><span class="o">)</span><span class="nb">}</span><span class="s">$</span><span class="nb">}</span>;
</span><span class='line'><span class="k">\draw</span> (KDG.west) edge [-&gt;, shorten &gt;=1pt, thick, blue, bend right=1.5]
</span><span class='line'>    (0.17, 10);
</span><span class='line'>
</span><span class='line'><span class="c">% Axes label</span>
</span><span class='line'><span class="k">\node</span> [below=6pt] at (0.5,-50) <span class="nb">{</span>Frequency, <span class="s">$</span><span class="nv">\omega</span><span class="s">$</span><span class="nb">}</span>;
</span><span class='line'><span class="k">\node</span> [rotate=90] at (-1.25,5) <span class="nb">{</span>Magnitude, <span class="s">$</span><span class="m">20</span><span class="nv">\log</span><span class="o">(</span><span class="nb">|G</span><span class="o">(</span><span class="nv">\text</span><span class="nb">{j}</span><span class="nv">\omega</span><span class="o">)</span><span class="nb">|</span><span class="o">)</span><span class="s">$</span><span class="nb">}</span>;
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>scope<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>scope<span class="nb">}</span>[yshift=-3.5cm,yscale=4/180]
</span><span class='line'><span class="k">\UniteDegre</span>
</span><span class='line'><span class="k">\OrdBode</span><span class="nb">{</span>30<span class="nb">}</span>
</span><span class='line'><span class="k">\semilog</span><span class="nb">{</span>-1<span class="nb">}{</span>2<span class="nb">}{</span>-180<span class="nb">}{</span>0<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">% Bode plot (phase) for the original system, 4/(s/(1+2s)).</span>
</span><span class='line'><span class="c">% Asymptotic line</span>
</span><span class='line'><span class="k">\BodeArg</span><span class="na">[ref lines, red!60]</span><span class="nb">{</span>-1:2<span class="nb">}{</span><span class="k">\POArgAsymp</span><span class="nb">{</span>4<span class="nb">}{</span>2.0<span class="nb">}</span>+<span class="k">\IntArg</span><span class="nb">{</span>1<span class="nb">}}</span>
</span><span class='line'><span class="c">% Bode plot</span>
</span><span class='line'><span class="k">\BodeArg</span><span class="na">[bode lines, red, name path=Gophase]</span><span class="nb">{</span>-1:2<span class="nb">}{</span><span class="k">\POArg</span><span class="nb">{</span>4<span class="nb">}{</span>2<span class="nb">}</span>+<span class="k">\IntArg</span><span class="nb">{</span>1<span class="nb">}}</span>
</span><span class='line'>
</span><span class='line'><span class="c">% Bode plot (magnitude) for the compensated system, 4(1+s)/(s^2/(1+0.1s)).</span>
</span><span class='line'><span class="c">% Asymptotic line</span>
</span><span class='line'><span class="k">\BodeArg</span><span class="na">[ref lines]</span><span class="nb">{</span>-1:2<span class="nb">}{</span><span class="k">\APArgAsymp</span><span class="nb">{</span>4<span class="nb">}{</span>0.1<span class="nb">}{</span>10<span class="nb">}</span>+2*<span class="k">\IntArg</span><span class="nb">{</span>1<span class="nb">}}</span>
</span><span class='line'><span class="c">% Bode plot</span>
</span><span class='line'><span class="k">\BodeArg</span><span class="na">[bode lines, name path=phase]</span><span class="nb">{</span>-1:2<span class="nb">}{</span><span class="k">\APArg</span><span class="nb">{</span>4<span class="nb">}{</span>0.1<span class="nb">}{</span>10<span class="nb">}</span>+2*<span class="k">\IntArg</span><span class="nb">{</span>1<span class="nb">}}</span>
</span><span class='line'>
</span><span class='line'><span class="c">% Phase margin of the original system</span>
</span><span class='line'><span class="k">\path</span> [name path=Gowcref] (Gocrossover) -- ++(0,-330);
</span><span class='line'><span class="k">\path</span> [name intersections=<span class="nb">{</span>of=Gophase and Gowcref, by=Gophasemargin<span class="nb">}</span>];
</span><span class='line'><span class="k">\node</span> (Gopmref) [ref points] at (Gophasemargin) <span class="nb">{}</span>;
</span><span class='line'><span class="k">\draw</span> [ref lines, red!60, densely dotted] (Gocoref.south) -- (Gopmref.north);
</span><span class='line'><span class="k">\draw</span> [ref lines, &lt;-&gt;, red] let <span class="k">\p</span>1=(Gophasemargin)
</span><span class='line'>    in
</span><span class='line'>        (Gopmref.south) -- node[left, Gclabel, text=red] <span class="nb">{</span><span class="s">$</span><span class="nv">\text</span><span class="nb">{PM}_o</span><span class="s">$</span><span class="nb">}</span> (<span class="k">\x</span>1,-180);
</span><span class='line'>
</span><span class='line'><span class="c">% Phase margin of the compensated system</span>
</span><span class='line'><span class="k">\path</span><span class="na">[name path=wcref]</span> (crossover) -- ++(0,-300);
</span><span class='line'><span class="k">\path</span> [name intersections=<span class="nb">{</span>of=phase and wcref, by=phasemargin<span class="nb">}</span>];
</span><span class='line'><span class="k">\node</span> (pmref) [ref points] at (phasemargin) <span class="nb">{}</span>;
</span><span class='line'><span class="k">\draw</span> [ref lines, densely dotted] (coref.south) -- (pmref.north);
</span><span class='line'><span class="k">\draw</span> [ref lines, &lt;-&gt;, blue] let <span class="k">\p</span>1=(phasemargin)
</span><span class='line'>    in
</span><span class='line'>        (pmref.south) -- node[left, Gclabel] <span class="nb">{</span>PM<span class="nb">}</span> (<span class="k">\x</span>1,-180);
</span><span class='line'>
</span><span class='line'><span class="c">% System Labels</span>
</span><span class='line'><span class="k">\node</span> (KGphase) [Gclabel, red!60, text=red, draw]
</span><span class='line'>    at (-0.5, -40) <span class="nb">{</span><span class="s">$</span><span class="nb">KG</span><span class="o">(</span><span class="nb">s</span><span class="o">)=</span><span class="nv">\dfrac</span><span class="nb">{</span><span class="m">4</span><span class="nb">}{s</span><span class="o">(</span><span class="m">1</span><span class="o">+</span><span class="m">2</span><span class="nb">s</span><span class="o">)</span><span class="nb">}</span><span class="s">$</span><span class="nb">}</span>;
</span><span class='line'><span class="k">\draw</span><span class="na">[-&gt;, shorten &gt;=1pt, thick, red]</span>
</span><span class='line'>    (KGphase.south) .. controls +(down:30) and +(0.1,10) .. (-0.65, -114);
</span><span class='line'>
</span><span class='line'><span class="k">\node</span> (KDGphase) [Gclabel, blue!60, text=blue, draw]
</span><span class='line'>    at (1.4, -40) <span class="nb">{</span><span class="s">$</span><span class="nb">KD</span><span class="o">(</span><span class="nb">s</span><span class="o">)</span><span class="nb">G</span><span class="o">(</span><span class="nb">s</span><span class="o">)=</span><span class="nv">\dfrac</span><span class="nb">{</span><span class="m">4</span><span class="o">(</span><span class="m">1</span><span class="o">+</span><span class="nb">s</span><span class="o">)</span><span class="nb">}{s^</span><span class="m">2</span><span class="o">(</span><span class="m">1</span><span class="o">+</span><span class="m">0</span><span class="nb">.</span><span class="m">1</span><span class="nb">s</span><span class="o">)</span><span class="nb">}</span><span class="s">$</span><span class="nb">}</span>;
</span><span class='line'><span class="k">\draw</span><span class="na">[-&gt;, shorten &gt;=1pt, thick, blue]</span>
</span><span class='line'>    (KDGphase.south) .. controls +(down:40) and +(0.1,30) .. (1.1, -146);
</span><span class='line'>
</span><span class='line'><span class="c">% Axes label</span>
</span><span class='line'><span class="k">\node</span> [below=6pt] at (0.5, -180) <span class="nb">{</span>Frequency, <span class="s">$</span><span class="nv">\omega</span><span class="s">$</span><span class="nb">}</span>;
</span><span class='line'><span class="k">\node</span> [rotate=90] at (-1.25, -90) <span class="nb">{</span>Phase, <span class="s">$</span><span class="nv">\angle</span><span class="nb"> G</span><span class="o">(</span><span class="nv">\text</span><span class="nb">{j}</span><span class="nv">\omega</span><span class="o">)</span><span class="s">$</span><span class="nb">}</span>;
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>scope<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">% Background</span>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>pgfonlayer<span class="nb">}{</span>background<span class="nb">}</span>
</span><span class='line'>    <span class="k">\path</span> (-1.4cm,2.8cm) node (tl) <span class="nb">{}</span>;
</span><span class='line'>    <span class="k">\path</span> (2.3cm, -8.4cm) node (br) <span class="nb">{}</span>;
</span><span class='line'>
</span><span class='line'>    <span class="k">\path</span><span class="na">[fill=brown!20]</span> (tl) rectangle (br);
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>pgfonlayer<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>tikzpicture<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Here is he thumbnail of the plot. You can find the <a href="http://cid-e5b806d2c8679f5d.skydrive.live.com/self.aspx/Public/TeX/bodeplot.tex">tex</a> and <a href="http://cid-e5b806d2c8679f5d.skydrive.live.com/self.aspx/Public/TeX/bodeplot.pdf">pdf</a> file from my SkyDrive.</p>

<p class="fn-img" style="max-width: 450px;"><img src="https://raw.github.com/Khaos/TikZGallery/master/Figs/png/pgf-o-Bodeplot.png" alt="The bodeplots of two control systems" /></p>

<p class="info">Update: <br />
    The code has been included in the PGF/Ti<em>k</em>Z gallery, <a href="http://www.texample.net/">TeXample.net</a>, see <a href="http://www.texample.net/tikz/examples/bode-plot/">here</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Final GUI, Matlab Tao (2)]]></title>
    <link href="http://Khaos.github.com/blog/2009/12/07/matlab-toolbox-gui-first-release/"/>
    <updated>2009-12-07T00:00:00+08:00</updated>
    <id>http://Khaos.github.com/blog/2009/12/07/matlab-toolbox-gui-first-release</id>
    <content type="html"><![CDATA[<p>Some screenshots of the ACSE Teaching &amp; Testing system.</p>

<!-- more -->

<table>
  <tbody>
    <tr>
      <td>Welcome Page</td>
      <td>Finish Page</td>
    </tr>
    <tr>
      <td><img src="../../../../../images/blog/2009/acs114prototype025b85d.png" alt="GUI prototype" /></td>
      <td><img src="../../../../../images/blog/2009/page-last015b55d.png" alt="GUI prototype" /></td>
    </tr>
    <tr>
      <td>Demo Page</td>
      <td>Question 1</td>
    </tr>
    <tr>
      <td><img src="../../../../../images/blog/2009/page015b105d.png" alt="GUI prototype" /></td>
      <td><img src="../../../../../images/blog/2009/page025b45d.png" alt="GUI prototype" /></td>
    </tr>
    <tr>
      <td>Question 3a</td>
      <td>Question 3b</td>
    </tr>
    <tr>
      <td><img src="../../../../../images/blog/2009/page04a5b45d.png" alt="GUI prototype" /></td>
      <td><img src="../../../../../images/blog/2009/page04b5b45d.png" alt="GUI prototype" /></td>
    </tr>
    <tr>
      <td>Question 2</td>
      <td>Question 5</td>
    </tr>
    <tr>
      <td><img src="../../../../../images/blog/2009/page035b45d.png" alt="GUI prototype" /></td>
      <td><img src="../../../../../images/blog/2009/page055b45d.png" alt="GUI prototype" /></td>
    </tr>
  </tbody>
</table>

<p class="infoup">The GUI has been upgraded since the first release. Many improvements and bug fixes have been done. I will release a demo GUI on GitHub later.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[A GUI Prototype for ACSE Course Testing System, Matlab Tao (1)]]></title>
    <link href="http://Khaos.github.com/blog/2009/11/30/matlab-toolbox-gui-prototype/"/>
    <updated>2009-11-30T00:00:00+08:00</updated>
    <id>http://Khaos.github.com/blog/2009/11/30/matlab-toolbox-gui-prototype</id>
    <content type="html"><![CDATA[<p>I’ve recently been asked to design a new testing system (toolbox) for the first year students of ACSE. The purpose is to create a easy-to-use Matlab GUI to help the student to fulfil a self-testing task.</p>

<p>After a few days work, I got my first GUI prototype (see below) which has dark background and light foreground.</p>

<!-- more -->

<p class="fn-img" style="max-width: 450px;"><img src="../../../../../images/blog/2009/acs114prototype025b85d.png" alt="GUI prototype" /></p>

<p>I’m planning to improve this GUI by embedding a tab panel in the question zone. However, there is no standard tab panel GUI component in Matlab. So it has to be built either using the undocumented Java classes (need more Java *_* ) or using a group of the basic Matlab GUI components (more codes -_-<font size="1">P</font> ). I’m going to show the final design when I finish this project.</p>

]]></content>
  </entry>
  
</feed>
